function waitForElement(e,o,n,t){t=t||5,--t,0!=t&&setTimeout(function(){var s=o.call(null,e,n,t);s||waitForElement(e,o,n,t)},50)}const urlParams=new URLSearchParams(window.location.search),languageCode=urlParams.get("language")||localStorage.getItem("languageCode")||"";var elmApp=Elm.Main.fullscreen({accessToken:localStorage.getItem("bs_access_token")||"",hostname:window.location.hostname,languageCode:languageCode,parentBaseUrl:window.location.href});elmApp.ports.saveAccessToken.subscribe(function(e){localStorage.setItem("bs_access_token",e)}),elmApp.ports.clearAccessToken.subscribe(function(){localStorage.removeItem("bs_access_token")}),Offline.on("down",function(){elmApp.ports.offline.send(!0)}),Offline.on("up",function(){elmApp.ports.offline.send(!1)});var sendSignalOnUserLoggedIn=!1;elmApp.ports.userTryLogin.subscribe(function(){sendSignalOnUserLoggedIn=!0}),elmApp.ports.userLoggedIn.subscribe(function(e){if(sendSignalOnUserLoggedIn){var o={cmd:"userLoggedIn",uuid:e};window.top.postMessage(o,"*")}}),elmApp.ports.userLoggedOut.subscribe(function(){var e={cmd:"userLoggedOut"};window.top.postMessage(e,"*")}),elmApp.ports.delayedReload.subscribe(function(){var e=Math.floor(20*Math.random()+1);setTimeout(function(){location.reload()},1e3*e)}),elmApp.ports.immediateReload.subscribe(function(){location.reload()}),elmApp.ports.focus.subscribe(function(e){e="opening-price-input";var o=function(e,o){var n=document.querySelector(e);return n?void n.focus():!1};waitForElement("#"+e,o,e)}),elmApp.ports.playSoundOnLiveBid.subscribe(function(){setTimeout(function(){var e=document.getElementById("place-bid-audio");if(e){var o=e.play();if(void 0===o)return;o.then(function(){})["catch"](function(e){console.log("FAILED to play the sound",e)})}},1)}),window.onmessage=function(e){e.data.hasOwnProperty("eventName")&&"resetUserBlock"==e.data.eventName&&elmApp.ports.resetUserBlock.send(e.data.siteName)};